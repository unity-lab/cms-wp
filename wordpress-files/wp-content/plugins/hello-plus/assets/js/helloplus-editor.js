!function(){"use strict";var e={d:function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{EhpAddLibraryTab:function(){return s},EhpOpenLibraryAfterDelete:function(){return i},EhpRemoveLibraryTab:function(){return l},SelectAfterContainer:function(){return n},SelectEhpElementOnOpen:function(){return o}});class o extends $e.modules.hookUI.After{getCommand(){return"editor/documents/attach-preview"}getId(){return"ehp-select-on-open"}getConditions(){return["ehp-header","ehp-footer"].includes(elementor?.config?.document?.type)}apply(){const e=elementor?.documents?.currentDocument?.container?.children;Array.isArray(e)&&e.length?$e.run("document/elements/select",{container:e[0],append:!1}):$e.run("library/open")}}class n extends $e.modules.hookUI.After{getCommand(){return"document/elements/select"}getId(){return"ehp-prevent-container-selection"}getConditions(e){let t=e?.container?.document?.config?.type;return t||(t=e?.containers[0]?.document?.config?.type),!ehpTemplatePartsEditorSettings?.isElementorDomain&&["ehp-header","ehp-footer"].includes(t)}apply(e){const{container:{type:t=""}}=e;switch(t){case"section":case"container":$e.run("document/elements/select",{container:e.container.children[0],append:!1})}}}var r=window.wp.i18n;class s extends $e.modules.hookUI.Before{getCommand(){return"library/open"}getId(){return"ehp-add-library-tab"}getConditions(){return["ehp-header","ehp-footer"].includes(elementor?.config?.document?.type)}getTitle(){switch(elementor?.config?.document?.type){case"ehp-header":return(0,r.__)("Hello+ Header","hello-plus");case"ehp-footer":return(0,r.__)("Hello+ Footer","hello-plus");default:return(0,r.__)("Hello Plus","elementor")}}apply(){$e.components.get("library").addTab("templates/ehp-elements",{title:this.getTitle(),filter:{source:"remote-ehp",type:"block",subtype:elementor?.config?.document?.type}},2),$e.components.get("library").removeTab("templates/blocks"),$e.components.get("library").removeTab("templates/pages")}}class l extends $e.modules.hookUI.After{getCommand(){return"editor/documents/unload"}getId(){return"ehp-remove-library-tab"}getConditions(e){const t=elementor.documents.get(e.id);return["ehp-header","ehp-footer"].includes(t?.config?.type)}apply(){$e.components.get("library").removeTab("templates/ehp-elements"),$e.components.get("library").addTab("templates/pages"),$e.components.get("library").addTab("templates/blocks")}}class i extends $e.modules.hookUI.After{getCommand(){return"document/elements/delete"}getId(){return"ehp-open-library-after-delete"}getConditions(e){let t=e?.container?.document?.config?.type;return t||(t=e?.containers[0]?.document?.config?.type),["ehp-header","ehp-footer"].includes(t)}apply(){$e.run("library/open")}}class a extends $e.modules.ComponentBase{getNamespace(){return"ehp-templates"}defaultHooks(){return this.importHooks(t)}}class d extends elementorModules.editor.utils.Module{onElementorInit(){$e.components.register(new a({manager:this})),elementor.channels.editor.on("helloPlusLogo:change",this.openSiteIdentity),elementor.hooks.addFilter("elements/widget/controls/common/default",this.resetCommonControls.bind(this)),elementor.hooks.addFilter("elements/widget/controls/common-optimized/default",this.resetCommonControls.bind(this)),elementor.hooks.addFilter("templates/source/is-remote",this.setSourceAsRemote.bind(this)),elementor.hooks.addFilter("elements/base/behaviors",this.filterBehviors.bind(this),1e3),elementor.hooks.addFilter("component/modal/close",this.preventClosingModal.bind(this),1e3),["core/modal/close/ehp-footer","core/modal/close/ehp-header"].forEach(e=>{window.addEventListener(e,this.redirectToHelloPlus.bind(this))}),window.templatesModule=this}isElementorDomain(){return ehpTemplatePartsEditorSettings?.isElementorDomain}preventClosingModal(e,t){return"library"===t.getNamespace()&&"library/templates/ehp-elements"===t?.defaultRoute?()=>{}:e}filterBehviors(e){if(this.isElementorDomain())return e;if(this.isEhpDocument()){const{contextMenu:{groups:t}}=e;e.contextMenu.groups=t.map(this.filterOutUnsupportedActions()).filter(e=>e.actions.length)}return e}setSourceAsRemote(e,t){return"remote-ehp"===t||e}redirectToHelloPlus(){this.isElementorDomain()||($e.internal("document/save/set-is-modified",{status:!1}),window.location.href=elementor.config.close_modal_redirect_hello_plus+elementor.config.document.type)}async openSiteIdentity(){await $e.run("panel/global/open"),$e.route("panel/global/settings-site-identity")}resetCommonControls(e,t){return["ehp-footer","ehp-header","ehp-flex-footer"].includes(t)?null:e}filterOutUnsupportedActions(){return e=>{const t=elementor.helpers.hasPro()?["edit","delete","resetStyle"]:["edit","delete","resetStyle","save"],{name:o,actions:n}=e;return{name:o,actions:n.filter(e=>t.includes(e.name))}}}isEhpDocument(){return["ehp-footer","ehp-header"].includes(elementor.config.document.type)}}const c=new d;window.helloPlusTemplates=c}();